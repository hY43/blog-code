# 5월 둘째주 한 일
## 1. 새벽 공부 시작
- 이번 주는 야근이 많아도 너무 많다보니.. 저녁 시간대에 코드숨 과제하기가 어려웠다.
- 그래서 차라리 퇴근해서 집에 오면 일단 자고, 새벽 5시에 일어나기 시작했다.
- 처음에는 눈뜨기도 힘들었는데, 하다보니 새벽 공부에서 2가지 정도 매력을 발견했다.
  - 엄청 고요하다보니 온전히 나한테 집중할 수 있는 시간이었다.(몰입도 최고)
  - 출근 시간까지 빡시게 집중해서 할수 있는 만큼 하자! 라는 마음으로 임하다보니 뭔가.. 데드라인이 생긴 것같아서 더 열심히 했던 것 같다.

## 2. Spring 예외 처리 전략
- 과제를 하다보니, 404 등의 에러를 처리해야 하는데 ResponseEntity로 404를 넘겼었다.
- 그러다보니, controller에서 ResponseStatus를 사용함에도 controller 내에서 ResponseEntity를 조작해서 반환하는 일이 생겼는다.
- 이 부분이 보기 좋지 않은 것 같아, 관련 에러를 찾다보니 ResponseStatusException을 반환하면 HttpStatus와 함께 에러메시지를 반환할 수 있다는 것을 알게 되어 이를 로직에 반영했다.
- 그런데.. 이게 에러메시지의 관리를 Controller나 Service에서 상수로 관리하는게 맞나라는 생각이 들어 ResponseStatusException을 확장한 TaskException을 만들었고, 조금더 여러가지 에러 메시지를 사용하기 위해 TaskNotFoundException, TaskHasInvalidTitleException을 확장/구현하였다.
- 여기까지 하고보니.. 에러메시지를 각 예외에서 관리하는게 조금 혼잡해보여서 조금더 찾아보니 ControllerAdvice와 RestControllerAdvice를 알게 되었고 advice 객체에서 예외 메시지와 httpstatus를 관리하도록 구현하고 예외 부분은 정리했다.(단 이때는 ResponseStatusException이 아닌 RuntimeException을 확장했다.)
- 뭔가 과정이 길었는데, 소스에 대해 고민하며 조금씩 개선 방안을 찾아보고 확장해나가는게 굉장히 뿌듯했던 경험이었다.

## 3. getter/setter에 대한 고민
- 막연히 getter/setter는 안좋으니 쓰면 안된다! 라는 생각을 갖고는 있었으나 어떤 식으로 개선해야하는지에 대해 방향을 전혀 못잡고 있었다.
- 그러던 중, 윤석님이 아래와 같이 조언을 해주셨다.
  - 질문
  ```
  객체에는 getter/setter를 통해 직접 값을 수정하는 것은 좋지 않은 방법이라고 알고 있습니다.
  그러면 예를 들어 Task 객체에서 title을 수정하는 등의 작업을 할 때는 setTitle을 사용하지 않으려면 어떤 방향으로 진행을 하는게 좋을까요?
  단순히 메소드의 이름을 변경하는 것은 의미가 없는 것같아서 고민을 좀 해보았으나 기존의 id에 대응되는 Task 객체를 삭제하고
  title이 수정된 객체를 새로 생성하는 방법만 떠올라서 참고할만한 사항이 있는지 문의 드립니다.
  ```
  - 윤석님 답변
  ```
  말씀해주신대로 setter를 사용하지 않기 위해서 새로운 객체를 반환하는 방법도 있겠네요.

  getter/setter가 좋지 않은 방법이라서 사용하지 않는 것 보다는 setTitle을 하는 이유를 고민해 보면 도움이 될 것 같아요. 어떤 시나리오가 존재할 것이고, 그 시나리오에 따라 필요한 행위를 묘사하면 됩니다. 정말 제목만 바꿀일이 있다면 changeTitle을 쓰면 됩니다.

  참고로, IDDD 예제에선 public 메서드에 change 형태를, private 메서드에선 set 형태를 쓰는 걸 볼 수 있습니다.
  https://github.com/VaughnVernon/IDDD_Samples/blob/master/iddd_agilepm/src/main/java/com/saasovation/agilepm/domain/model/product/Product.java
  ```
- 이걸 듣고 고민하고 반영하기까지는 시간이 좀 걸린 것같으나, 소스를 좀더 보기 쉽게 그리고 도메인 객체의 데이터는 외부 접근이 아니라 내부에서 직접 수정만 가능하도록 독립 시키는 것에 대해서는.. 
  계속 개선 방향을 고민해야할 것같지만 조금은 예전과는 다르게 생각할 수 있게 된 것같다.
  
# 5월 셋째주 할 일
## 1. 화요일 새벽 PR 보내기.
- 우선 조금이라도 만들어서 첫 PR을 보내고, 점심시간이나 약간의 틈을 이용해서 개선해나가야겠다.

## 2. 책 읽기
- 이펙티브 자바 아이템 21~31 읽고 코드에 녹여보기.
- TDDBE(켄트 벡 저)
- DDD Quickly
